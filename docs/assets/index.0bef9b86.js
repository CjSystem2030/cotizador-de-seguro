var w=Object.defineProperty,F=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var f=(r,e,a)=>e in r?w(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a,g=(r,e)=>{for(var a in e||(e={}))k.call(e,a)&&f(r,a,e[a]);if(b)for(var a of b(e))D.call(e,a)&&f(r,a,e[a]);return r},x=(r,e)=>F(r,R(e));import{j as h,r as l,R as E,a as M}from"./vendor.1a83891a.js";const P=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&d(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(n){if(n.ep)return;n.ep=!0;const s=a(n);fetch(n.href,s)}};P();function z(r){return new Date().getFullYear()-r}function j(r){let e;switch(r){case"1":e=1.3;break;case"2":e=1.15;break;case"3":e=1.05;break}return e}function L(r){return r==="1"?1.2:1.5}function O(r){return r.toLocaleString("en-US",{style:"currency",currency:"USD"})}const t=h.exports.jsx,c=h.exports.jsxs,y=h.exports.Fragment,N=l.exports.createContext(),Y=({children:r})=>{const[e,a]=l.exports.useState({marca:"",year:"",plan:""}),[d,n]=l.exports.useState(""),[s,o]=l.exports.useState(0),[m,u]=l.exports.useState(!1),C=i=>{a(x(g({},e),{[i.target.name]:i.target.value}))},A=()=>{let i=2e3;i-=z(e.year)*3*i/100,i*=j(e.marca),i*=L(e.plan),i=O(i),u(!0),setTimeout(()=>{o(i),u(!1)},3e3)};return t(N.Provider,{value:{datos:e,handleChangeDatos:C,error:d,setError:n,cotizarSeguro:A,resultado:s,cargando:m},children:r})},v=[{id:1,nombre:"Europeo"},{id:2,nombre:"Americano"},{id:3,nombre:"As\xEDatico"}],T=new Date().getFullYear(),B=Array.from(new Array(20),(r,e)=>T-e),S=[{id:1,nombre:"B\xE1sico"},{id:2,nombre:"Completo"}],p=()=>l.exports.useContext(N),I=()=>{const{error:r}=p();return t("div",{className:"border text-center border-red-400 bg-red-100 py-3 text-red-700",children:t("p",{children:r})})},U=()=>{const{datos:r,handleChangeDatos:e,error:a,setError:d,cotizarSeguro:n}=p();return c(y,{children:[a&&t(I,{}),c("form",{onSubmit:o=>{if(o.preventDefault(),Object.values(r).includes("")){d("Todos los campos son obligatorios");return}d(""),n()},children:[c("div",{className:"my-5",children:[t("label",{className:"block mb-3 font-bold text-gray-400 uppercase",children:"Marca"}),c("select",{name:"marca",className:"w-full p-3 bg-white border border-gray-200",onChange:o=>e(o),value:r.marca,children:[t("option",{value:"",children:"-- Selecciona Marca --"}),v.map(o=>t("option",{value:o.id,children:o.nombre},o.id))]})]}),c("div",{className:"my-5",children:[t("label",{className:"block mb-3 font-bold text-gray-400 uppercase",children:"A\xF1o"}),c("select",{name:"year",className:"w-full p-3 bg-white border border-gray-200",onChange:o=>e(o),value:r.year,children:[t("option",{value:"",children:"-- Selecciona A\xF1o --"}),B.map(o=>t("option",{value:o,children:o},o))]})]}),c("div",{className:"my-5",children:[t("label",{className:"block mb-3 font-bold text-gray-400 uppercase",children:"Elige un Plan"}),t("div",{className:"flex gap-3 items-center",children:S.map(o=>c(l.exports.Fragment,{children:[t("label",{children:o.nombre}),t("input",{type:"radio",name:"plan",value:o.id,onChange:m=>e(m)})]},o.id))})]}),t("input",{type:"submit",className:"w-full bg-indigo-500 hover:bg-indigo-600 transition-colors text-white cursor-pointer p-3 uppercase font-bold",value:"Cotizar"})]})]})};const q=()=>c("div",{className:"spinner",children:[t("div",{className:"dot1"}),t("div",{className:"dot2"})]}),K=()=>{const{resultado:r,datos:e}=p(),{marca:a,plan:d,year:n}=e,s=l.exports.useRef(n),[o]=l.exports.useCallback(v.filter(u=>u.id===Number(a)),[r]),[m]=l.exports.useCallback(S.filter(u=>u.id===Number(d)),[r]);return r===0?null:c("div",{className:"bg-gray-100 text-center mt-5 p-5 shadow",children:[t("h2",{className:"text-gray-600 font-black text-3xl",children:"Resumen"}),c("p",{className:"my-2",children:[t("span",{className:"font-bold",children:"Marca: "}),o.nombre]}),c("p",{className:"my-2",children:[t("span",{className:"font-bold",children:"Plan: "}),m.nombre]}),t(l.exports.Fragment,{children:c("p",{className:"my-2",children:[t("span",{className:"font-bold",children:"A\xF1o del Auto: "}),s.current]})}),c("p",{className:"my-2 text-2xl",children:[t("span",{className:"font-bold",children:"Total Cotizaci\xF3n: "}),r]})]})},X=()=>{const{cargando:r}=p();return c(y,{children:[t("header",{className:"my-10",children:t("h1",{className:"text-white text-center text-4xl font-black",children:"Cotizador de Seguros de Auto"})}),c("main",{className:"bg-white md:w-2/3 lg:w-2/4 mx-auto shadow rounded-lg p-10",children:[t(U,{}),r?t(q,{}):t(K,{})]})]})};function $(){return t(Y,{children:t(X,{})})}E.render(t(M.StrictMode,{children:t($,{})}),document.getElementById("root"));
